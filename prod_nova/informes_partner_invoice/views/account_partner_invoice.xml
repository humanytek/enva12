<?xml version="1.0" encoding="UTF-8"?>
<odoo>
  <!-- Inherit Tree view -->
  <record id="invoice_supplier_tree_inherit" model="ir.ui.view">
    <field name="name">invoice_supplier_tree_inherit.tree</field>
    <field name="model">account.invoice</field>
    <field name="inherit_id" ref="account.invoice_supplier_tree"/>
    <field name="arch" type="xml">

      <field name="date_due" position="after">
        <field name="dias_vencidos"/>
      </field>
      <field name="state" position="after">
        <field name="state_payment"/>
        <field name="comentarios_pago" />
      </field>


    </field>
  </record>

  <record id="view_partner_invoice_form_inherit_nova" model="ir.ui.view">
      <field name="name">partner.invoice.form.inherit.nova</field>
      <field name="model">account.invoice</field>
      <field name="inherit_id" ref="account.invoice_supplier_form"/>
      <field name="arch" type="xml">
           <xpath expr="//field[@name='currency_id']" position="after">
            <field name="state_payment" attrs="{'invisible':1}" />
          </xpath>
          <xpath expr="//field[@name='comment']" position="after">
           <field name="comentarios_pago" placeholder="Comentarios de pago..." />
         </xpath>
          <xpath expr="//button[@name='action_invoice_draft']" position="after">
                    <button name="action_autorizar_pago" type="object" attrs="{'invisible': ['|',('state_payment','in',('autorizado')),('state','in',('draft','paid','cancel'))]}" string="Autorizar Pago"/>
                    <button name="action_des_autorizar_pago" type="object" attrs="{'invisible': [('state_payment','in',('no_autorizado'))]}" string="Cancelar Autorizar Pago"/>
                </xpath>
                <xpath expr="//field[@name='partner_bank_id']" position="after">
          <field name="currency_account" options="{'no_create': True,'no_open': True}"/>
        </xpath>
      </field>
  </record>
</odoo>
